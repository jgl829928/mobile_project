<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>爱心随行</title>
		<meta name="keywords" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<!--分享使用-->
		<meta itemprop="name" content="" />
		<meta itemprop="description" name="description" content="" />
		<meta itemprop="image" content="img_url" />
		<meta name="format-detection" content="telephone=no" />
        <link rel="stylesheet" type="text/css" href="../css/swiper.min.css">
		<link rel="stylesheet" type="text/css" href="../css/font-awesome.min.css" />
        <link rel="stylesheet" type="text/css" href="../css/global.css">
        <link rel="stylesheet" type="text/css" href="../css/page.css">
        <link rel="stylesheet" type="text/css" href="../css/pyf.css">
        <link rel="stylesheet" type="text/css" href="../css/ly.css">
        <style>
            .game-goods{
                width: 33%;
                border-radius: .2rem;
            }
            .game-goods:first-child{
                left: -33%;
            }
            .game-goods:nth-child(2){
                left: 50.2%
            }
            .game-goods:last-child{
                left: 100.4%;
            }
            .game-goods-wrap{
                top: 16%;
                height: 70%;
                overflow: visible;
            }
        </style>
	</head>

	<body>
		<section id="app" class="main hgt_full flex_column">
			<header class="curHeader">
				<a class="goBack" href="javascript:;"></a>
				<h1>幸运大抽奖</h1>
			</header>
			<section class="flex_1 overflow_auto colorBgRed font24r relative">
				<div class="con  font24r">
					<div class="hgt17rem l-pad20  between-center">
						<div class="wid50 pv02 column-center-b">
							<span class="color-fff">爱心奖池</span>
							<div class="relative font36r">
								<p class="moneyArea only_line" v-cloak>
									{{Settings.dLovePool}}
								</p>
								<span class="color-fff font22r yuan">元</span>
							</div>
						</div>
						<div class="wid50 pv02 column-center-b">
							<span class="color-fff">车主奖池</span>
							<div class="relative font36r">
								<p class="moneyArea only_line" v-cloak>
									{{Settings.dCarPool}}
								</p>
								<span class="color-fff font22r yuan">元</span>
							</div>
						</div>
					</div>
					<div class="l-pad20 between-center hgt06rem">
						<div class="line_login wid06rem"></div>
						<span class="color-ffdd6b" v-cloak>活动日期：{{Activity.sStartTime}}起至{{Activity.sStopTime}}止</span>
						<div class="line_login wid06rem"></div>
					</div>
					<div class="game-content l-pad20">
					    <img src="../img/slice/awardBg.png">
					    <div class="game-goods-wrap">
					        <div class="game-goods-list">
					            <div class="game-goods" style="background: #ffffff;">
					                <div class="game-goods-box" id="game1">
					                    <ul class="game-goods-ul" style="">
					                        <!-- <li v-if="PrizeList" v-for="item in PrizeList" :style="'height:'+ game_list_item_h + 'px'"><img :src="item.sImageSrc"></li> -->
					                    </ul>
					                </div>
					            </div>
					            <div class="game-goods" style="background: #ffffff;">
					                <div class="game-goods-box" id="game2">
					                    <ul class="game-goods-ul" style="">
					                        <!-- <li v-if="PrizeList" v-for="item in PrizeList" :style="'height:'+ game_list_item_h + 'px'"><img :src="item.sImageSrc"></li> -->
					                    </ul>
					                </div>
					            </div>
					            <div class="game-goods" style="background: #ffffff;">
					                <div class="game-goods-box" id="game3">
					                    <ul class="game-goods-ul">
											<!-- <li v-if="PrizeList" v-for="item in PrizeList" :style="'height:'+ game_list_item_h + 'px'"><img :src="item.sImageSrc"></li> -->
					                    </ul>
					                </div>
					            </div>
					        </div>
					    </div>
					</div>
					<div class="wid100 l-pad20">
						<div class=" mt02 jifenArea text-center color-fff wid100" v-cloak>
						<p style="word-break: break-all;" class="wid100">当前剩余{{memberInfo.iSurplusIntegral}}个积分，{{Activity.iIntegral}}积分/次&nbsp;&nbsp;<span v-if="Desc">{{Desc.sContent}}</span></p>
						</div>
						<div class="hgt06rem l-pad60 around-center">
							<a href="rewardIntro.html" class="color-fff underline">奖品介绍</a>
							<a href="myReward.html" class="color-fff underline">中奖纪录</a>
						</div>
						<div class="text-center around-center">
							<button v-if="memberInfo.iSurplusIntegral>=Activity.iIntegral" :disabled="drawing?true:false" @click="draw($event)" class=" game-btn around-center font30r">抽奖</button>
							<button v-else :disabled="true" @click="draw($event)" class=" game-btn around-center font30r">积分不足，无法抽奖</button>
						</div>
					</div>
					<div style="min-height: 5rem;" class="wid100 m-t-40r radius02r l-pad20 overflow_hide">
						<div style="height: .9rem;" class="luckNav between-center font24r">
							<span class="luckActive around-center">中奖公告</span>
							<span class="around-center">活动规则</span>
						</div>
						<div class="Con">
							<div style="max-height: 350px;" :class="WinList.length > 8 ? 'detlArea p-b-10r swiper-container' : 'detlArea p-b-10r'">
								<div :class="WinList.length > 8 ? 'luckLists overflow_hide swiper-wrapper' : 'luckLists overflow_hide'">
									<div v-for="item in WinList" class="luckList l-pad20 between-center swiper-slide">
										<img class="wid05rem hgt05rem radius_half" :src="item.sMemberImageSrc ? item.sMemberImageSrc : '../img/slice/defaultHeader.png'"/>
										<p class="wid08rem only_line" v-cloak>{{item.sMemberNickname}}</p>
										<p class="wid11rem only_line" v-cloak>{{item.iTotalIntegral+'积分'}}</p>
										<p class="wid13rem only_line" v-text="tTime(item.dCreateTime)"></p>
										<p class="wid16rem only_line" v-cloak>{{item.sPrizeName}}</p>
									</div>
									<div v-if="WinList.length == 0" style="top:0;position:relative; height: 2.5rem;" class="no_data m-t-90r">
										<p class="color-fff">暂无数据</p>
									</div>
								</div>
								
							</div>
							<div class="detlArea p-t-10r hide p-b-10r">
								<div class="Decontent color-fff" v-if="Rule.sContent" v-html="tText(Rule.sContent)">
									<!-- <p>6月26日的大暴雨，让西安市长安区老区委十字形成了小河般的积水。大雨中，一位身患残疾的大爷因下坡速度太快刹不住车，跌到了水沟里 ，在这里疏导交通的长安大队城区中队交警，立即上前搀扶，将大爷抱到马路对面，然后把他的自行车从</p>
									<img src="../img/miaosha1.png"/> -->
								</div>
							</div>
							
						</div>
					</div>
					
				</div>
			</section>
			<!--兑奖-->
			<div style="z-index: 13;display: none" class="markBox  font24r">
	            <div style="width: 4.7rem;" class="mark overflow_hide">
	            	<div class="Con text-center color-333 border-b-eee p-a-50r bg-fff">
	            		<p class="l-pad40" v-cloak>{{prizeName}}</p>
	            	</div>
	            	<div class="hgt08rem bg-fff around-center ">
	            		<button @click="closeTab" class="wid50 font24r border-r-eee hgt08rem color-999">取消</button>
	            		<button @click="toGetReward" class="wid50 color-fff hgt08rem color-000 font24r">去兑换</button>
	            	</div>
	            </div>
	      	</div>
			<!--联系客服-->
			<div style="z-index: 13;display: none" class="markBox2 hide font24r">
	            <div style="width: 4.7rem;" class="mark overflow_hide">
	            	<div class="Con text-center color-333 border-b-eee p-a-50r bg-fff" v-cloak>
	            		联系客服即可完成兑换<br />
						客服电话：{{Settings.sPhone}}
	            	</div>
	            	<div class="hgt08rem bg-fff around-center ">
	            		<button onclick="$('.markBox2').hide()" class="wid50 font24r border-r-eee hgt08rem color-666">取消</button>
	            		<a @click="goDail" class="wid50 color-fff hgt08rem color-000 font24r around-center">拨号</a>
	            	</div>
	            </div>
			</div>
		</section>
	</body>
<script type="text/javascript" src="../lib/jquery.1.11.3.min.js"></script>
<script type="text/javascript" src="../lib/uploadPreview.js"></script>
<script type="text/javascript" src="../lib/form-check.js"></script>
<script type="text/javascript" src="../lib/swiper.min.js"></script>
<script type="text/javascript" src="../lib/con_js.6.23.js"></script>	
<script type="text/javascript" src="../lib/page.js"></script>	
<script type="text/javascript" src="../lib/vue.js"></script>	
<script src="../lib/touchSelect.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">

	getUserInfo()

	var app = new Vue({
		el: "#app",	
		data: {
			dLovePool: 0,
			dCarPool: 0,
			Activity: {},
			Rule: {},
			userInfo: JSON.parse(localStorage.userInfo),
			memberInfo: {},
			Settings: {},
			WinList: {},
			is_win: 0,
			number: 0,
			PrizeList: [],
			drawing: false,
			prizeName: '',
			iExchangeID: null,
			isShiwu: null,
			Desc: '',
			isZhongjiang: false,
		    game_pagesize: 6
		},
		methods: {
			closeTab: function(){
				$('.markBox').hide()
				//location.reload()
			},
			toGetReward: function () {
				if(app.isShiwu){
				    location.href = 'myAddr.html?' + app.iExchangeID
				    $('.markBox2').hide()
				} else {
					$('.markBox2').show()
				}
			},
			tText: function(text){
				return text.replace(/\r\n/g,'<br/>')
			},
			tTime: function(time){
				return time.split(' ')[0].replace(/-/g,'.')
			},
			setSwiper: function () {
				// 配置swiper
				var mySwiper = new Swiper('.swiper-container', {
					autoplay: 1000,//可选选项，自动滑动
					direction: 'vertical',
					slidesPerView: 8,
					// slidesPerGroup: 8,
					loop: true,
					speed: 600,
					autoplayDisableOnInteraction: false
				})
			},
			draw: function (e) {
				app.is_win = 0
				if(app.memberInfo.iSurplusIntegral >= app.Activity.iIntegral){
					$.ajax({
						type: 'post',
						async: false,
						url: host + 'act.join',
						data: { iMemberID: this.userInfo.ID },
						success: function (res) {
							if (res.success) {
								if (res.message == '没有中奖') {//未中奖
									
								} else {
									app.is_win = 1
									app.prizeName = res.data.sName
									app.iExchangeID = res.data.iExchangeID
									if(res.data.iType == 1){
										app.isShiwu = true
									} else {
										app.isShiwu = false
									}
                                    var zjNumber = 0
                                    for (idx in app.PrizeList) {
									    if (app.PrizeList[idx].ID == res.data.ID) {
									        zjNumber = idx
									        app.zjNumber = idx
									    }
                                    }
                                    console.log(zjNumber)
									$.luckGame({
										'zj_arr': {
											'is_win': 1,
										    //'number':  res.data.ID - 2 >= 0 ? app.PrizeList[res.data.ID-2].index : 0
											'number': parseInt(app.zjNumber)
										},
										gameLen: app.PrizeList.length,//产品抽奖数量，
										game_pagesize: 6
									});
                                   
									//console.log(app.PrizeList[res.data.ID - 1].ID)
									app.is_win = true
								}
							} else {
								go_alert2(res.message)
							}
						}
					})
					app.getMemberInfo()
				} else {
					e.preventDefault()
					go_alert2("积分不足，无法抽奖！")
				}
			},
			getMemberInfo: function () {
				$.ajax({
					type: 'post',
					url: host + 'member.get',
					data: { iMemberID: this.userInfo.ID },
					success: function (res) {
						app.memberInfo = res.data
					}
				})
			},
			getAct: function () {
				$.ajax({
					type: 'post',
					url: host + 'act.get',
					data: { iMemberID: this.userInfo.ID },
					success: function (res) {
						var drawData = res.data
						// app.Activity = res.data.Activity
						for (key in drawData) {
							app[key] = drawData[key]
						}
						if (res.data.WinList.length > 8) {
							setTimeout(function(){
								app.setSwiper()
							},0)
							
						}
						$.luckGame({
							// 'zj_arr': {
							// 	'is_win': 0,
							// 	'number': 0//从0算起，就是10了
							// },
							gameLen: app.PrizeList.length,//产品抽奖数量，
							game_pagesize: 6
						});
					}
				})
			},
			goDail: function () {
			    $('.markBox2').hide()
			    $('.markBox').hide()
				location.href = 'tel:' + app.Settings.sPhone
				$.ajax({
					type: 'post',
					url: host + 'act.exchange',
					data: {iExchangeID: app.iExchangeID},
				})
				//setTimeout(function(){
				//	location.reload()
				//}, 1500)
			}
		},
		mounted: function(){
			this.getAct()
			this.getMemberInfo()
		}
	})

	var	w_config = {
		'w': $(window).width(),
		'h': $(window).height()
	}
	app.game_list_item_h = (w_config.w * 320 / 640 * 0.5 * 0.7).toFixed(2);

	function getHeight(){
				w_config={
					'w':$(window).width(),
					'h':$(window).height()
				}
					game_list_item_h=(w_config.w*320/640*0.5*0.7).toFixed(2);
				}

	//切换
	
		$('.luckNav span').click(function(){
			$(this).addClass('luckActive').siblings().removeClass('luckActive');
		    var _index = $(this).index();
		    $(".detlArea").eq(_index).show().siblings().hide();
		    
		})
	
	//抽奖	
		$.extend({
		    luckGame: function(options) {
		    	var defaults = {
		    	        'gameLen': '18',
		    	        'game_pagesize':10,//生成多少圈同样的东西
		    	        'zj_arr': { //中奖数组，第一个表示是否中奖，第二个中奖号码
		    	        	'is_win':0,
		    	        	'number':17
		    	        }
		    	    };
		         var settings = $.extend(defaults, options);
		         w_config={
		         	'w':$(window).width(),
		         	'h':$(window).height()
		         }
		         var gameArr=[];
		         var gameLen=settings.gameLen;
		         var game_list_h='';
		         var game_init=[];
		         var game_list_item_h=0;

		          //每次进来随机3个数字，来启动当前的选择的状态
		          for (var i = 0; i < 3; i++) {
		          	
		          	game_init.push(Math.floor(Math.random() * gameLen));
		          }
		          createGame();
		          $(window).resize(function(){
		         	
		         	 createGame();
		         })
		          function createGame(){
		          	getHeight();
		          	setLi();
		          	pushLi(gameArr);
		          	start();
		          }


		          function getHeight(){
		          	w_config={
		          		'w':$(window).width(),
		          		'h':$(window).height()
		          	}
		          	 game_list_item_h=(w_config.w*320/640*0.5*0.7).toFixed(2);
		          }


		        //   设置奖品
		          function setLi(){
		          	
		          	for (var j = 1; j <= settings.game_pagesize; j++) {
		          		for (var i = 0; i < gameLen; i++) {
							  console.log()
							  gameArr.push({ 'type': j, 'index': i, 'src': app.PrizeList[i].sImageSrc, id: app.PrizeList[i].ID });
		          		}
		          	}
				  }

		          	
		        //   }
		        //写入，初始化奖品的滚动

		          function pushLi(arr){
		          	console.log(game_list_item_h);
		          	var html_str = '';
                      console.log()
		          	for (var i = 0; i < arr.length; i++) {
		          		html_str+='<li style="height:'+game_list_item_h+'px" data-index="'+arr[i]['index']+'" data-type="'+arr[i]['type']+'"><img src="'+arr[i]['src']+'"></li>';
		          	}
		          	$(".game-goods-ul").each(function(e){
		          		$(this).empty().append(html_str);
		          		game_list_h = $(this).height();
		          		//console.log(game_list_h)
		          		//console.log('game_list_item_h',game_init);
		          		//y=game_list_item_h*game_init[e];
		          		
		          		//$(this).css({
		          		//	'transition-duration': '0ms',
		          		//	'transform':'translate(0px, -'+y+'px) translateZ(0px)'
		          		//})
		          	});
		          	
		          	
		          }
		          
		          function start(){
		          	$(".game-btn").click(function(){
						  app.drawing = true
		          		//如果中奖
		          		if(app.is_win==1)
		          		{
		          		    //console.log(numrand, settings.zj_arr.is_win);
		          			$(".game-goods-ul").each(function(e){

		          			    setTimeout(function () {
		          			        //console.log(settings.zj_arr.number)
		          			        y = (parseInt(app.zjNumber) + app.PrizeList.length * (app.game_pagesize - 1));
		          			        y = y * game_list_item_h
		          			        console.log(y, 'app.zjNumber', app.zjNumber, 'app.PrizeList.length', app.PrizeList.length, 'app.game_pagesize - 1', app.game_pagesize - 1, 'game_list_item_h', game_list_item_h)
		          			        console.log(app.zjNumber)
		          					$(".game-goods-ul").eq(e).css({
		          						'transition-duration': '5000ms',
		          						'transform':'translate(0px, -'+y+'px) translateZ(0px)'
		          					})
		          				}, e*300);
		          				//判断最后面是否完毕
		          				$("#game3").find(".game-goods-ul").on("webkitTransitionEnd", function() {
		          					y=settings.zj_arr.number*game_list_item_h;
		          				    $(".game-goods-ul").css({
		          				    	'transition-duration': '0ms',
		          				    	'transform':'translate(0px, -'+y+'px) translateZ(0px)'
		          				    })
		          				    $("#game3").find(".game-goods-ul").unbind("webkitTransitionEnd");
									app.drawing = false
									if (app.is_win == 1) {
										if (app.isShiwu) {
											$('.markBox').show()
										} else {
											$('.markBox').show()
										}
									}
		          				})
		          			})
		          			
		          		}else
		          		{
		          			
		          			numrand=randNum2();
		          			console.log(numrand, settings.zj_arr.is_win);
		          			//不中奖的时候
		          			$(".game-goods-ul").each(function(e){
		          				y2=(numrand[0])*game_list_item_h;
		          				y3=(numrand[1])*game_list_item_h;
		          				y4=(numrand[2])*game_list_item_h;
		          				setTimeout(function(){
		          					y=(numrand[e]+settings.gameLen*(settings.game_pagesize-1))*game_list_item_h;
		          					$(".game-goods-ul").eq(e).css({
		          						'transition-duration': '5000ms',
		          						'transform':'translate(0px, -'+y+'px) translateZ(0px)'
		          					})
		          				}, e*300);
		          				//判断最后面是否完毕
		          				$("#game3").find(".game-goods-ul").on("webkitTransitionEnd", function() {
		          					
		          				    $(".game-goods-ul").eq(2).css({
		          				    	'transition-duration': '00ms',
		          				    	'transform':'translate(0px, -'+y4+'px) translateZ(0px)'
		          				    })
		          				    $("#game3").find(".game-goods-ul").unbind("webkitTransitionEnd");
									app.drawing = false
									if(app.is_win == 0){
										go_alert2('很抱歉，您未中奖')
									}
		          				})
		          				$("#game2").find(".game-goods-ul").on("webkitTransitionEnd", function() {
		          					
		          				    $(".game-goods-ul").eq(1).css({
		          				    	'transition-duration': '00ms',
		          				    	'transform':'translate(0px, -'+y3+'px) translateZ(0px)'
		          				    })
		          				    $("#game2").find(".game-goods-ul").unbind("webkitTransitionEnd");
		          				})
		          				$("#game1").find(".game-goods-ul").on("webkitTransitionEnd", function() {
		          					
		          				    $(".game-goods-ul").eq(0).css({
		          				    	'transition-duration': '00ms',
		          				    	'transform':'translate(0px, -'+y2+'px) translateZ(0px)'
		          				    })
		          				    $("#game1").find(".game-goods-ul").unbind("webkitTransitionEnd");
		          				})
		          			})

		          		}
		          		
		          		
		          	})
		          }
		          function randNum2(){
		          	a=Math.floor(Math.random() * gameLen);
		          	b=Math.floor(Math.random() * gameLen);
		          	c=Math.floor(Math.random() * gameLen);
		          	arr=[];
		          	if(a==b)
		          	{
		          		return randNum2();
		          	}else
		          	{
		          		return arr=[a,b,c];
		          	}
		          }
		    }
		})

		//function setLi() {

		//    for (var j = 1; j <= settings.game_pagesize; j++) {
		//        for (var i = 0; i < gameLen; i++) {
		//            console.log()
		//            gameArr.push({ 'type': j, 'index': i, 'src': app.PrizeList[i].sImageSrc, id: app.PrizeList[i].ID });
		//        }
		//    }
		//}


		////   }
		////写入，初始化奖品的滚动

		//function pushLi(arr) {
		//    console.log(game_list_item_h);
		//    var html_str = '';
		//    for (var i = 0; i < arr.length; i++) {
		//        html_str += '<li style="height:' + game_list_item_h + 'px" data-index="' + arr[i]['index'] + '" data-type="' + arr[i]['type'] + '"><img src="' + arr[i]['src'] + '"></li>';
		//    }
		//    $(".game-goods-ul").each(function (e) {
		//        $(this).empty().append(html_str);
		//        game_list_h = $(this).height();
		//        console.log('game_list_item_h', game_init);
		//        y = game_list_item_h * game_init[e];

		//        $(this).css({
		//            'transition-duration': '0ms',
		//            'transform': 'translate(0px, -' + y + 'px) translateZ(0px)'
		//        })
		//    });


		//}

		//function start() {
		//    $(".game-btn").click(function () {
		//        app.drawing = true
		//        //如果中奖
		//        if (settings.zj_arr.is_win == 1) {
		//            console.log(numrand, settings.zj_arr.is_win);
		//            $(".game-goods-ul").each(function (e) {

		//                setTimeout(function () {
		//                    y = (settings.zj_arr.number + settings.gameLen * (settings.game_pagesize - 1)) * game_list_item_h;
		//                    $(".game-goods-ul").eq(e).css({
		//                        'transition-duration': '5000ms',
		//                        'transform': 'translate(0px, -' + y + 'px) translateZ(0px)'
		//                    })
		//                }, e * 300);
		//                //判断最后面是否完毕
		//                $("#game3").find(".game-goods-ul").on("webkitTransitionEnd", function () {
		//                    y = settings.zj_arr.number * game_list_item_h;
		//                    $(".game-goods-ul").css({
		//                        'transition-duration': '0ms',
		//                        'transform': 'translate(0px, -' + y + 'px) translateZ(0px)'
		//                    })
		//                    $("#game3").find(".game-goods-ul").unbind("webkitTransitionEnd");
		//                    app.drawing = false
		//                    if (app.is_win == 1) {
		//                        if (app.isShiwu) {
		//                            $('.markBox').show()
		//                        } else {
		//                            $('.markBox').show()
		//                        }
		//                    }
		//                })
		//            })

		//        } else {

		//            numrand = randNum2();
		//            console.log(numrand, settings.zj_arr.is_win);
		//            //不中奖的时候
		//            $(".game-goods-ul").each(function (e) {
		//                y2 = (numrand[0]) * game_list_item_h;
		//                y3 = (numrand[1]) * game_list_item_h;
		//                y4 = (numrand[2]) * game_list_item_h;
		//                setTimeout(function () {
		//                    y = (numrand[e] + settings.gameLen * (settings.game_pagesize - 1)) * game_list_item_h;
		//                    $(".game-goods-ul").eq(e).css({
		//                        'transition-duration': '5000ms',
		//                        'transform': 'translate(0px, -' + y + 'px) translateZ(0px)'
		//                    })
		//                }, e * 300);
		//                //判断最后面是否完毕
		//                $("#game3").find(".game-goods-ul").on("webkitTransitionEnd", function () {

		//                    $(".game-goods-ul").eq(2).css({
		//                        'transition-duration': '00ms',
		//                        'transform': 'translate(0px, -' + y4 + 'px) translateZ(0px)'
		//                    })
		//                    $("#game3").find(".game-goods-ul").unbind("webkitTransitionEnd");
		//                    app.drawing = false
		//                    if (app.is_win == 0) {
		//                        go_alert2('很抱歉，您未中奖')
		//                    }
		//                })
		//                $("#game2").find(".game-goods-ul").on("webkitTransitionEnd", function () {

		//                    $(".game-goods-ul").eq(1).css({
		//                        'transition-duration': '00ms',
		//                        'transform': 'translate(0px, -' + y3 + 'px) translateZ(0px)'
		//                    })
		//                    $("#game2").find(".game-goods-ul").unbind("webkitTransitionEnd");
		//                })
		//                $("#game1").find(".game-goods-ul").on("webkitTransitionEnd", function () {

		//                    $(".game-goods-ul").eq(0).css({
		//                        'transition-duration': '00ms',
		//                        'transform': 'translate(0px, -' + y2 + 'px) translateZ(0px)'
		//                    })
		//                    $("#game1").find(".game-goods-ul").unbind("webkitTransitionEnd");
		//                })
		//            })

		//        }


		//    })
		//}
		function randNum2() {
		    a = Math.floor(Math.random() * gameLen);
		    b = Math.floor(Math.random() * gameLen);
		    c = Math.floor(Math.random() * gameLen);
		    arr = [];
		    if (a == b) {
		        return randNum2();
		    } else {
		        return arr = [a, b, c];
		    }
		}
		
		

	</script>
 
</html>